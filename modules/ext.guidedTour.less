@import 'ext.guidedTour.mixins';
@import 'mediawiki.mixins';

.guider {
	border: 1px solid #ccc;
	font-family: "Helvetica Neue", "Helvetica", Arial, sans-serif;
	font-size: 14px;
	padding: 12px;
	.box-shadow(0 0 4px rgba(0, 0, 0, 0.2));
	.border-radius(3px);
}

.guider_buttons {
	margin-top: 8px;

	.mw-ui-button {
		margin-left: 6px;
		float: right;
	}

	.mw-ui-quiet {
		float: left;
		margin-left: 0;
		padding-left: 0;
		padding-right: 0;
	}
}

.guider_content {
	h1 {
		color: #000;
		font-size: 1.5em;
		font-weight: bold;
		padding-top: 0.1em;
		margin-bottom: 4px;
		border-bottom: none;
	}

	p {
		font-size: 1em;
		line-height: 1.3em;
		color: #252525;
		margin-bottom: 1.5em;
	}
}

.guider_close {
	padding: 0;

	.x_button {
		.background-image-svg('images/ext.guidedTour.x.svg', 'images/ext.guidedTour.x.png');
	}
}

.guider_arrow {
	background: none;
}

.guider_arrow_inner_container {
	position: relative;
	overflow: hidden;
	width: 100%;
	height: 100%;
}

.guider_arrow_inner {
	position: absolute;
	width: 100%;
	height: 100%;
	background: #fff;
	border: 1px solid #bbb;
	.box-shadow(0 0 4px rgba(0, 0, 0, 0.2));
	-webkit-transform: rotate(45deg);
	    -ms-transform: rotate(45deg);
	        transform: rotate(45deg);
}

/*
	Since Guiders uses dynamic absolute positioning, the elements below need to be flipped at a higher level.
*/

.position_guider_arrow_by_direction(@direction, @top, @left) {
	.guider_arrow_@{direction} .guider_arrow_inner {
		top: @top;
		/* @noflip */
		left: @left;

		// NOTE (phuedx, 2014-06-04): The 10px value is a tweaked version of
		// that generated by http://www.useragentman.com/IETransformsTranslator/
		// (was 12px).
		.ie6 &,
		.ie7 &,
		.ie8 & {
			top: @top - 10px;
			/* @noflip */
			left: @left - 10px;
		}
	}
}

.position_guider_arrow_by_direction(up, 38px, 0);
.position_guider_arrow_by_direction(right, 0, -40px);
.position_guider_arrow_by_direction(down, -40px, 0);
.position_guider_arrow_by_direction(left, 0, 38px);

// NOTE (phuedx, 2014-05-28): The filter declaration breaks IE7- CSS parsing so
// it must follow the .guider_arrow_foo rules.
.ie6 .guider_arrow_inner,
.ie7 .guider_arrow_inner {
	filter: progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865474, M12=-0.7071067811865476, M21=0.7071067811865476, M22=0.7071067811865474);
}

.ie8 .guider_arrow_inner {
	-ms-filter: "progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=-0.7071067811865475, M21=0.7071067811865475, M22=0.7071067811865476)";
}
